---
name: crypto-portfolio-rebalancer
description: 加密货币投资组合再平衡助手。当用户需要管理加密货币投资组合、计算再平衡策略、设定目标配置比例、或需要买入/卖出建议时使用。支持BTC、ETH等主流币种的组合分析。
---

# Crypto Portfolio Rebalancer

## 功能

帮助用户管理加密货币投资组合，提供再平衡建议。

## 使用场景

- 设定或调整目标配置比例
- 计算当前组合价值分布
- 生成再平衡交易建议（买入/卖出数量）
- 定期检查组合是否需要再平衡

## 工作流程

### 1. 定义目标配置

询问用户希望达到的目标配置比例，例如：
- BTC: 60%
- ETH: 30%
- SOL: 10%

### 2. 获取当前持仓

用户需要提供：
- 持有的币种和数量
- 或者授权查询交易所API

### 3. 计算再平衡

使用公式计算：
- 当前价值 = 数量 × 当前价格
- 目标价值 = 总组合价值 × 目标百分比
- 差额 = 目标价值 - 当前价值
- 交易数量 = 差额 / 当前价格

### 4. 生成报告

输出：
- 当前配置 vs 目标配置
- 需要买入的币种和数量
- 需要卖出的币种和数量
- 预估交易成本

## 价格获取

优先使用以下方式获取价格：
1. 用户提供的价格
2. Binance/CoinGecko API
3. 其他可信数据源

## 注意事项

- 考虑交易手续费对再平衡成本的影响
- 大额交易可能导致滑点
- 建议分批执行大额交易
- 保留一定现金储备以备抄底
